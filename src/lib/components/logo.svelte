<script lang="ts">
	import { onMount } from 'svelte';
	import SpecialAction from './specialAction.svelte';
	let pathsGroup: SVGGElement;
	let holesGroup: SVGGElement;
	let lettersGroup: SVGGElement;

	onMount(() => {
		// staggerd animation for letters
		const letters = lettersGroup.querySelectorAll('path');
		letters.forEach((letter, i) => {
			letter.setAttribute('style', `--order:${i};`);
		});
		const paths = pathsGroup.querySelectorAll('path');
		paths.forEach((path, i) => {
			const newCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
			newCircle.setAttribute('r', '18');
			newCircle.setAttribute('id', 'c' + i);
			const { x, y } = paths[i].getPointAtLength(0);
			newCircle.setAttribute('cx', String(x));
			newCircle.setAttribute('cy', String(y));
			holesGroup.appendChild(newCircle);
		});

		const holes = holesGroup.querySelectorAll('circle');
		const pathsArray = Array.from(paths);
		const pathLengths = pathsArray.map((path) => path.getTotalLength());
		window.addEventListener('scroll', function () {
			paths.forEach((path, i) => {
				const pathLength = pathLengths[i];
				const scrollPosition = window.scrollY;
				const pathPosition = (scrollPosition / window.innerHeight) * 0.7 * pathLength;
				const { x, y } = path.getPointAtLength(pathPosition);
				const circle = holes[i];
				// Update the position of the circle
				circle.setAttribute('cx', String(x));
				circle.setAttribute('cy', String(y));
			});
		});
	});
</script>



	<svg id="main-logo" viewBox="0 0 724 782" fill="none" xmlns="http://www.w3.org/2000/svg">
		<g id="Logo" clip-path="url(#clip0_846_360100)">
			<g id="letters" bind:this={lettersGroup}>
				<path
					id="Vector"
					d="M95.6473 0C43.0947 0 0.50061 42.5722 0.50061 95.0802H48.0739C48.0739 68.8262 69.3677 47.5335 95.6473 47.5335V0Z"
					fill="black"
				/>
				<path
					id="Vector_2"
					d="M95.3311 242.964C42.7785 242.964 0.19104 285.537 0.19104 338.045H47.7644C47.7644 311.791 69.0581 290.498 95.3377 290.498V242.964H95.3311Z"
					fill="black"
				/>
				<path
					id="Vector_3"
					d="M0.19104 438.224C0.19104 490.726 42.8048 533.278 95.3641 533.278V485.751C69.0845 485.751 47.771 464.478 47.771 438.224H0.19104Z"
					fill="black"
				/>
				<path
					id="Vector_4"
					d="M101.259 533.305C153.811 533.305 196.405 490.732 196.405 438.224H148.832C148.832 464.478 127.538 485.771 101.259 485.771V533.305Z"
					fill="black"
				/>
				<path
					id="Vector_5"
					d="M196.103 338.018C196.103 285.517 153.489 242.964 100.93 242.964V290.491C127.209 290.491 148.523 311.764 148.523 338.018H196.103Z"
					fill="black"
				/>
				<path
					id="Vector_6"
					d="M303.434 284.089C250.881 284.089 208.287 326.661 208.287 379.169H255.861C255.861 352.915 277.154 331.623 303.434 331.623V284.089Z"
					fill="black"
				/>
				<path
					id="Vector_7"
					d="M403.903 379.143C403.903 326.642 361.289 284.089 308.729 284.089V331.616C335.009 331.616 356.323 352.889 356.323 379.143H403.903Z"
					fill="black"
				/>
				<path
					id="Vector_8"
					d="M303.269 532.976C250.717 532.976 208.123 575.548 208.123 628.056H255.696C255.696 601.802 276.99 580.509 303.269 580.509V532.976Z"
					fill="black"
				/>
				<path
					id="Vector_9"
					d="M403.573 628.029C403.573 575.528 360.959 532.976 308.4 532.976V580.503C334.68 580.503 355.993 601.775 355.993 628.029H403.573Z"
					fill="black"
				/>
				<path
					id="Vector_10"
					d="M309.072 480.158C361.625 480.158 404.219 437.586 404.219 385.078H356.645C356.645 411.332 335.352 432.625 309.072 432.625V480.158Z"
					fill="black"
				/>
				<path
					id="Vector_11"
					d="M563.622 580.654C563.622 528.152 521.008 485.6 468.449 485.6V533.127C494.729 533.127 516.042 554.4 516.042 580.654H563.622Z"
					fill="black"
				/>
				<path
					id="Vector_12"
					d="M558.511 750.245C545.424 713.358 510.187 686.946 468.778 686.946V734.473C489.427 734.473 507.012 747.607 513.599 765.965C517.023 775.506 525.908 781.994 536.058 781.994H536.177C552.616 781.994 564.011 765.721 558.518 750.245H558.511Z"
					fill="black"
				/>
				<path
					id="Vector_13"
					d="M468.482 681.353C521.035 681.353 563.629 638.781 563.629 586.273H516.055C516.055 612.527 494.762 633.82 468.482 633.82V681.353Z"
					fill="black"
				/>
				<path
					id="Vector_14"
					d="M207.958 385.42C207.958 437.922 250.572 480.474 303.131 480.474V432.947C276.851 432.947 255.538 411.674 255.538 385.42H207.958Z"
					fill="black"
				/>
				<path
					id="Vector_15"
					d="M415.106 385.42C415.106 426.795 441.57 461.991 478.513 475.046C494.004 480.52 510.279 469.15 510.279 452.733V452.601C510.279 442.468 503.785 433.585 494.228 430.17C475.839 423.597 462.686 406.042 462.686 385.414H415.106V385.42Z"
					fill="black"
				/>
				<path
					id="Vector_16"
					d="M415.923 35.6962C363.37 35.6962 320.776 78.2684 320.776 130.776H368.349C368.349 104.522 389.643 83.2297 415.923 83.2297V35.6962Z"
					fill="black"
				/>
				<path
					id="Vector_17"
					d="M468.943 136.712C468.943 189.213 511.557 231.765 564.116 231.765V184.238C537.836 184.238 516.523 162.966 516.523 136.712H468.943Z"
					fill="black"
				/>
				<path
					id="Vector_18"
					d="M569.253 231.772C621.806 231.772 664.4 189.2 664.4 136.692H616.827C616.827 162.946 595.533 184.238 569.253 184.238V231.772Z"
					fill="black"
				/>
				<path
					id="Vector_19"
					d="M516.529 130.763C516.529 78.2618 473.916 35.7094 421.356 35.7094V83.2363C447.636 83.2363 468.95 104.509 468.95 130.763H516.529Z"
					fill="black"
				/>
				<path
					id="Vector_20"
					d="M249.781 95.067C249.781 42.5591 207.168 0.0131836 154.608 0.0131836V47.5401C180.888 47.5401 202.201 68.8131 202.201 95.067H249.781Z"
					fill="black"
				/>
				<path
					id="Vector_21"
					d="M125.055 384.927H196.432V432.467H125.055C111.922 432.467 101.265 421.814 101.265 408.7C101.265 395.58 111.929 384.933 125.055 384.933V384.927Z"
					fill="black"
				/>
				<path id="Vector_22" d="M142.753 633.649H53.837V681.189H142.753V633.649Z" fill="black" />
				<path id="Vector_23" d="M350.224 633.649H261.308V681.189H350.224V633.649Z" fill="black" />
				<path
					id="Vector_24"
					d="M48.0739 432.302L48.0739 343.473H0.487339L0.487339 432.302H48.0739Z"
					fill="black"
				/>
				<path
					id="Vector_25"
					d="M646.531 390.849H575.155V343.309H646.531C659.664 343.309 670.321 353.961 670.321 367.075C670.321 380.196 659.658 390.842 646.531 390.842V390.849Z"
					fill="black"
				/>
				<path
					id="Vector_26"
					d="M415.435 757.931V686.624H463.022V757.931C463.022 771.051 452.358 781.697 439.232 781.697C426.099 781.697 415.442 771.044 415.442 757.931H415.435Z"
					fill="black"
				/>
				<path
					id="Vector_27"
					d="M249.795 101.167V207.683C249.795 220.803 239.131 231.45 226.005 231.45C212.871 231.45 202.215 220.797 202.215 207.683V101.167H249.801H249.795Z"
					fill="black"
				/>
				<path
					id="Vector_28"
					d="M368.171 136.698V243.215C368.171 256.335 357.508 266.981 344.381 266.981C331.248 266.981 320.591 256.328 320.591 243.215V136.698H368.178H368.171Z"
					fill="black"
				/>
				<path
					id="Vector_29"
					d="M414.941 379.169V272.653C414.941 259.533 425.604 248.886 438.731 248.886C451.864 248.886 462.521 259.539 462.521 272.653V379.169H414.935H414.941Z"
					fill="black"
				/>
				<path
					id="Vector_30"
					d="M569.714 343.473V449.989C569.714 463.11 559.051 473.756 545.924 473.756C532.791 473.756 522.134 463.103 522.134 449.989V343.473H569.721H569.714Z"
					fill="black"
				/>
				<path
					id="Vector_31"
					d="M616.807 130.776V24.2602C616.807 11.1398 627.47 0.493469 640.597 0.493469C653.73 0.493469 664.387 11.1464 664.387 24.2602V130.776H616.807Z"
					fill="black"
				/>
				<path
					id="Vector_32"
					d="M47.9158 101.167L47.9158 207.683C47.9158 220.803 37.2524 231.45 24.1258 231.45C10.9926 231.45 0.335854 220.797 0.335854 207.683L0.335854 101.167H47.9224H47.9158Z"
					fill="black"
				/>
				<path
					id="Vector_33"
					d="M569.872 337.222C569.872 316.594 583.032 299.039 601.415 292.465C610.965 289.05 617.466 280.167 617.466 270.034V269.903C617.466 253.486 601.191 242.116 585.699 247.59C548.757 260.651 522.292 295.841 522.292 337.216H569.872V337.222Z"
					fill="black"
				/>
				<path
					id="Vector_34"
					d="M403.573 633.649V757.325C403.573 770.446 392.91 781.092 379.783 781.092C366.65 781.092 355.993 770.439 355.993 757.325V633.649H403.58H403.573Z"
					fill="black"
				/>
				<path
					id="Vector_35"
					d="M255.545 634.254V757.931C255.545 771.051 244.881 781.697 231.755 781.697C218.621 781.697 207.965 771.044 207.965 757.931V634.254H255.551H255.545Z"
					fill="black"
				/>
				<path
					id="Vector_36"
					d="M148.845 0V118.847C148.845 131.967 138.182 142.614 125.055 142.614C111.922 142.614 101.265 131.961 101.265 118.847V0L148.852 0L148.845 0Z"
					fill="black"
				/>
				<path
					id="Vector_37"
					d="M308.894 207.683V24.2603C308.894 11.1343 298.243 0.49353 285.104 0.49353H285.097C271.959 0.49353 261.308 11.1343 261.308 24.2603V207.683C261.308 220.809 271.959 231.45 285.097 231.45H285.104C298.243 231.45 308.894 220.809 308.894 207.683Z"
					fill="black"
				/>
				<path
					id="Vector_38"
					d="M723.671 207.189V23.7668C723.671 10.6407 713.02 0 699.881 0L699.874 0C686.735 0 676.084 10.6407 676.084 23.7668V207.189C676.084 220.315 686.735 230.956 699.874 230.956H699.881C713.02 230.956 723.671 220.315 723.671 207.189Z"
					fill="black"
				/>
				<path
					id="Vector_39"
					d="M47.58 757.93L47.58 557.15C47.58 544.024 36.9288 533.383 23.79 533.383H23.7834C10.6446 533.383 -0.00651932 544.024 -0.00651932 557.15L-0.00651932 757.93C-0.00651932 771.056 10.6446 781.697 23.7834 781.697H23.79C36.9288 781.697 47.58 771.056 47.58 757.93Z"
					fill="black"
				/>
				<path
					id="Vector_40"
					d="M196.103 757.931V556.742C196.103 543.616 185.451 532.976 172.313 532.976H172.306C159.167 532.976 148.516 543.616 148.516 556.742V757.931C148.516 771.057 159.167 781.697 172.306 781.697H172.313C185.451 781.697 196.103 771.057 196.103 757.931Z"
					fill="black"
				/>
				<path id="Vector_41" d="M463.015 681.024V485.6H415.429V681.024H463.015Z" fill="black" />
				<path
					id="Vector_42"
					d="M724 580.654C724 528.152 681.386 485.6 628.827 485.6V533.127C655.107 533.127 676.42 554.4 676.42 580.654H724Z"
					fill="black"
				/>
				<path
					id="Vector_43"
					d="M628.853 681.024C681.406 681.024 724 638.452 724 585.944H676.427C676.427 612.198 655.133 633.491 628.853 633.491V681.024Z"
					fill="black"
				/>
				<path id="Vector_44" d="M623.064 681.024V485.6H575.477V681.024H623.064Z" fill="black" />
			</g>
			<g id="holes" bind:this={holesGroup}>
				<!-- <path id="h0" d="M24.2971 107.089H24.2905C14.4363 107.089 6.448 115.069 6.448 124.914V124.92C6.448 134.765 14.4363 142.745 24.2905 142.745H24.2971C34.1512 142.745 42.1395 134.765 42.1395 124.92V124.914C42.1395 115.069 34.1512 107.089 24.2971 107.089Z" fill="#2BB673"/>
	<path id="h1" d="M285.104 6.41553H285.098C275.243 6.41553 267.255 14.3961 267.255 24.2406V24.2472C267.255 34.0917 275.243 42.0722 285.098 42.0722H285.104C294.958 42.0722 302.947 34.0917 302.947 24.2472V24.2406C302.947 14.3961 294.958 6.41553 285.104 6.41553Z" fill="#2BB673"/>
	<path id="h2" d="M368.343 59.4629H368.336C358.482 59.4629 350.494 67.4434 350.494 77.288V77.2945C350.494 87.1391 358.482 95.1196 368.336 95.1196H368.343C378.197 95.1196 386.185 87.1391 386.185 77.2945V77.288C386.185 67.4434 378.197 59.4629 368.343 59.4629Z" fill="#2BB673"/>
	<g id="Ref">
	<path id="h2_2" d="M438.746 698.5H438.754C445.517 698.5 451 703.983 451 710.746V710.754C451 717.517 445.517 723 438.754 723H438.746C431.983 723 426.5 717.517 426.5 710.754V710.746C426.5 703.983 431.983 698.5 438.746 698.5Z" fill="#24FF00" stroke="#FF4E4E" stroke-width="23"/>
	</g>
	<path id="h3" d="M699.907 189.377H699.901C690.046 189.377 682.058 197.358 682.058 207.203V207.209C682.058 217.054 690.046 225.034 699.901 225.034H699.907C709.761 225.034 717.75 217.054 717.75 207.209V207.203C717.75 197.358 709.761 189.377 699.907 189.377Z" fill="#2BB673"/>
	<path id="h4" d="M41.8432 467.933H41.8366C31.9825 467.933 23.9941 475.913 23.9941 485.758V485.764C23.9941 495.609 31.9825 503.589 41.8366 503.589H41.8432C51.6973 503.589 59.6857 495.609 59.6857 485.764V485.758C59.6857 475.913 51.6973 467.933 41.8432 467.933Z" fill="#2BB673"/>
	<path id="h7" d="M118.963 639.59H118.956C109.102 639.59 101.114 647.571 101.114 657.415V657.422C101.114 667.266 109.102 675.247 118.956 675.247H118.963C128.817 675.247 136.805 667.266 136.805 657.422V657.415C136.805 647.571 128.817 639.59 118.963 639.59Z" fill="#2BB673"/>
	<path id="h8" d="M255.716 556.742H255.709C245.855 556.742 237.867 564.723 237.867 574.567V574.574C237.867 584.418 245.855 592.399 255.709 592.399H255.716C265.57 592.399 273.558 584.418 273.558 574.574V574.567C273.558 564.723 265.57 556.742 255.716 556.742Z" fill="#2BB673"/>
	<path id="h9" d="M439.225 740.099H439.219C429.364 740.099 421.376 748.079 421.376 757.924V757.931C421.376 767.775 429.364 775.756 439.219 775.756H439.225C449.079 775.756 457.068 767.775 457.068 757.931V757.924C457.068 748.079 449.079 740.099 439.225 740.099Z" fill="#2BB673"/>
	<path id="h10" d="M599.274 491.542H599.267C589.413 491.542 581.425 499.522 581.425 509.367V509.373C581.425 519.218 589.413 527.198 599.267 527.198H599.274C609.128 527.198 617.116 519.218 617.116 509.373V509.367C617.116 499.522 609.128 491.542 599.274 491.542Z" fill="#2BB673"/>
	<path id="h5" d="M356.323 307.862H356.316C346.462 307.862 338.474 315.843 338.474 325.687V325.694C338.474 335.538 346.462 343.519 356.316 343.519H356.323C366.177 343.519 374.165 335.538 374.165 325.694V325.687C374.165 315.843 366.177 307.862 356.323 307.862Z" fill="#2BB673"/>
	<path id="h6" d="M438.738 335.847H438.731C428.877 335.847 420.889 343.827 420.889 353.672V353.679C420.889 363.523 428.877 371.504 438.731 371.504H438.738C448.592 371.504 456.58 363.523 456.58 353.679V353.672C456.58 343.827 448.592 335.847 438.738 335.847Z" fill="#2BB673"/>
	<path id="h7_2" d="M546.076 389.309H546.082C555.936 389.309 563.925 381.329 563.925 371.484V371.477C563.925 361.633 555.936 353.652 546.082 353.652H546.076C536.222 353.652 528.233 361.633 528.233 371.477V371.484C528.233 381.329 536.222 389.309 546.076 389.309Z" fill="#2BB673"/> -->
			</g>
			<g id="paths" bind:this={pathsGroup}>
				<path
					id="p0"
					d="M24 207V96C24 56.2355 56.2355 24 96 24H125H154C193.765 24 226 56.2355 226 96V207"
					stroke="#FF0000"
				/>
				<path id="p1" d="M285 24V207" stroke="#FF0000" />
				<path
					id="p2"
					d="M344.5 244.244V132.5C344.5 92.7355 376.736 60.5 416.5 60.5H421C460.764 60.5 493 92.7355 493 132.5V136C493 175.765 525.235 208 565 208H568.644C608.409 208 640.644 175.765 640.644 136V24"
					stroke="#FF0000"
				/>
				<path id="p3" d="M700 207V24" stroke="#FF0000" />
				<path
					id="p4"
					d="M168 312.5V312.5C158.982 286.048 134.467 267.993 106.531 267.229L98.968 267.023C58.4478 265.915 25 298.46 25 338.996V437.774C25 478.014 57.9816 510.443 98.2161 509.763L102.216 509.696C141.501 509.032 173 476.996 173 437.706V408.5H124.5"
					stroke="#FF0000"
				/>
				<path
					id="p5"
					d="M380 382C380 422.871 347.248 456.5 305 456.5C262.761 456.5 231.5 423.38 231.5 382.5C231.5 341.62 262.761 308.5 305 308.5C347.257 308.5 380 341.138 380 382Z"
					stroke="#FF0000"
				/>
				<path
					id="p6"
					d="M439 272.5V385.05C439 415.308 458.011 442.304 486.5 452.5V452.5"
					stroke="#FF0000"
				/>
				<path
					id="p7"
					d="M545.5 450V337.224C545.5 312.682 558.724 290.044 580.102 277.99L592.5 271"
					stroke="#FF0000"
				/>
				<path id="p8" d="M173.5 658H23.5" stroke="#FF0000" />
				<path
					id="p9"
					d="M232 758V628.5C232 588.735 264.236 556.5 304 556.5H308C347.764 556.5 380 588.735 380 628.5V758"
					stroke="#FF0000"
				/>
				<path
					id="p10"
					d="M439.5 509.5H468C507.765 509.5 540 541.736 540 581.5V586C540 625.764 507.765 658 468 658H439.614V710.78H469V710.78C494.338 710.916 517.644 724.671 530.01 746.786L536 757.5"
					stroke="#FF0000"
				/>
				<path
					id="p11"
					d="M628 509.5H599.5L599 658H628C667.764 658 700 625.764 700 586V581.5C700 541.736 667.765 509.5 628 509.5Z"
					stroke="#FF0000"
				/>
			</g>
		</g>
		<defs />
	</svg>

<style lang="scss" scoped>
	svg {
		margin: 10vh 0;
		height: 50vh;
		opacity: 0;
		max-width: 1300px;
		animation: fade-in 0.3s ease-in-out forwards;
		@keyframes fade-in {
			from {
				opacity: 0;
			}
			to {
				opacity: 1;
			}
		}
		#paths {
			display: none;
		}
		#letters {
			path {
				opacity: 0;
				animation: fade-in;
				animation-delay: calc(var(--order) * 20ms);
				animation-duration: 0.5s;
				animation-fill-mode: forwards;
			}
		}
		#holes {
			fill: var(--green-main);
			circle {
			}
			animation: fade-in 0.5s ease-in-out forwards;
		}
	}
</style>
